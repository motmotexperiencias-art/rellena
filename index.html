<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReLlenas - Barichara</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Iconos -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #FAFAFA;
            color: #111111;
            padding-bottom: 160px; /* Espacio extra para el footer con domicilio */
        }

        /* PALETA FAST FOOD */
        :root {
            --hunger-yellow: #FFC300; /* Amarillo Queso/Mostaza */
            --hunger-red: #D32F2F;    /* Rojo Salsa/Urgencia */
            --hunger-black: #111111;
        }

        .text-yellow-brand { color: var(--hunger-yellow); }
        .text-red-brand { color: var(--hunger-red); }
        .bg-red-brand { background-color: var(--hunger-red); }

        /* T√≠tulos */
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
            z-index: 1;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: 0;
            width: 100%;
            height: 10px;
            background-color: var(--hunger-yellow);
            z-index: -1;
            opacity: 0.5;
            transform: skewX(-10deg);
        }
        
        /* TARJETAS */
        .card-ingredient {
            background-color: #ffffff;
            border: 2px solid #E5E7EB;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Estado Seleccionado */
        .card-ingredient.selected {
            background-color: #FFF9C4;
            border-color: var(--hunger-black);
            box-shadow: 4px 4px 0px var(--hunger-black);
            transform: translate(-2px, -2px);
        }
        .card-ingredient.selected .check-indicator {
            background-color: var(--hunger-red); /* Check Rojo */
            color: white;
            border-color: var(--hunger-red);
        }

        /* Check Indicator Base */
        .check-indicator {
            background-color: #F3F4F6;
            color: transparent;
            border: 1px solid #D1D5DB;
        }

        /* INPUTS */
        .input-light {
            background-color: #ffffff;
            border: 2px solid #E5E7EB;
            color: #111;
            transition: all 0.2s;
        }
        .input-light:focus {
            border-color: var(--hunger-red); /* Foco Rojo */
            outline: none;
            box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
        }

        /* BOT√ìN PEDIR (ROJO PARA ANTOJAR) */
        .btn-order {
            background: linear-gradient(135deg, #D32F2F, #B71C1C);
            color: white;
            border: none;
            box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
        }
        .btn-order:active {
            transform: scale(0.98);
        }

        /* SALSAS (Botones) */
        .btn-salsa.selected {
            background-color: var(--hunger-red);
            color: white;
            border-color: var(--hunger-red);
        }
    </style>
</head>
<body>

    <!-- Header Fijo -->
    <header class="fixed top-0 w-full z-50 bg-white/95 backdrop-blur-md border-b border-gray-100 p-4 shadow-sm">
        <div class="flex justify-between items-center max-w-md mx-auto">
            <!-- Logo y Ubicaci√≥n -->
            <div class="flex flex-col leading-none">
                <h1 class="text-3xl font-black italic tracking-tighter text-black">
                    Re<span class="text-yellow-brand">Llenas</span>
                </h1>
                <div class="flex items-center gap-1 mt-1">
                    <i data-lucide="map-pin" class="w-3 h-3 text-red-brand"></i>
                    <span class="text-[10px] text-gray-500 font-bold uppercase tracking-widest">Barichara ¬∑ Parque</span>
                </div>
            </div>
            <!-- Precio -->
            <div class="text-right">
                <div class="bg-red-brand text-white text-[10px] font-bold px-2 py-0.5 rounded-sm inline-block mb-1 transform -rotate-2">PRECIO √öNICO</div>
                <div class="text-2xl font-black text-black leading-none">$5.000</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-md mx-auto pt-28 px-4">
        
        <!-- Info Domicilio -->
        <section class="mb-4 bg-yellow-50 p-4 rounded-xl border border-yellow-200">
            <div class="flex items-start gap-3">
                <div class="bg-yellow-400 p-2 rounded-full text-black">
                    <i data-lucide="bike" class="w-5 h-5"></i>
                </div>
                <div>
                    <h3 class="text-sm font-bold text-black uppercase">Domicilio: $4.000</h3>
                    <p class="text-xs text-gray-600 leading-tight mt-1">
                        Tarifa v√°lida para casco urbano Barichara. 
                        <span class="text-red-brand font-bold block mt-1">‚ö† Veredas tienen costo adicional.</span>
                    </p>
                </div>
            </div>
        </section>

        <!-- AVISO DE GRAMAJE (IMPORTANTE) -->
        <section class="mb-8 bg-black p-4 rounded-xl shadow-lg border-l-4 border-yellow-400">
            <div class="flex items-center gap-2 mb-1">
                <i data-lucide="scale" class="text-yellow-400 w-5 h-5"></i>
                <h3 class="text-white font-bold text-sm uppercase">La F√≠sica de la Empanada</h3>
            </div>
            <p class="text-gray-300 text-xs leading-relaxed">
                Cada empanada tiene una capacidad m√°xima de <strong class="text-yellow-400">60 gramos</strong>.
                <br>
                ‚Ä¢ Si pides 1 ingrediente, te echamos 60g de eso.
                <br>
                ‚Ä¢ Si pides 5 ingredientes, te toca un poquito de cada uno.
                <br>
                <em class="text-gray-400 mt-1 block">¬°T√∫ decides la mezcla!</em>
            </p>
        </section>

        <!-- Formulario -->
        <section class="mb-10">
            <div class="grid gap-3">
                <input type="text" id="clientName" placeholder="¬øC√≥mo te llamas?" class="input-light w-full rounded-lg p-3 placeholder-gray-400 font-semibold">
                <input type="text" id="clientAddress" placeholder="Direcci√≥n / Barrio / Hotel" class="input-light w-full rounded-lg p-3 placeholder-gray-400 font-semibold">
            </div>
        </section>

        <!-- MUNDO DE SAL -->
        <section class="mb-12">
            <h2 class="text-3xl font-black text-black section-title">
                MUNDO SAL
            </h2>
            <div id="content-sal" class="grid grid-cols-2 gap-3">
                <!-- Se llena con JS -->
            </div>
        </section>

        <!-- MUNDO DE DULCE -->
        <section class="mb-12">
            <h2 class="text-3xl font-black text-black section-title">
                MUNDO DULCE
            </h2>
            <div id="content-dulce" class="grid grid-cols-2 gap-3">
                <!-- Se llena con JS -->
            </div>
        </section>

        <!-- SALSAS -->
        <section class="mb-8 border-t-2 border-dashed border-gray-200 pt-8">
            <h3 class="text-lg font-bold text-black mb-4 flex items-center gap-2">
                <i data-lucide="flame" class="text-red-brand w-5 h-5 fill-current"></i>
                Salsas (Gratis)
            </h3>
            <div class="grid grid-cols-2 gap-2" id="salsasContainer">
                <!-- Se llena con JS -->
            </div>
        </section>

        <!-- Notas / Adicionales -->
        <div class="mb-4">
            <label class="text-xs font-bold text-gray-400 mb-2 block uppercase flex justify-between">
                <span>¬øAlgo adicional / Especial?</span>
                <span class="text-red-500 text-[10px]">*Puede variar precio</span>
            </label>
            <textarea id="notes" placeholder="Ej: Quiero doble queso (extra), salsa aparte..." class="input-light w-full rounded-lg p-3 text-sm h-24 resize-none font-medium"></textarea>
            <p class="text-[10px] text-gray-400 mt-2">
                Nota: Si pides ingredientes extra fuera del men√∫, te confirmaremos el nuevo precio por WhatsApp antes de enviarlo.
            </p>
        </div>

    </main>

    <!-- Footer Sticky -->
    <footer class="fixed bottom-0 w-full bg-white border-t border-gray-100 p-4 z-50 shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
        <div class="max-w-md mx-auto">
            <!-- Desglose de Precios -->
            <div class="flex justify-between items-end mb-3 text-xs border-b border-gray-100 pb-2">
                <div class="text-gray-500">
                    <p>Empanada: <span class="font-bold text-black">$5.000</span></p>
                    <p>Domicilio: <span class="font-bold text-black">$4.000</span></p>
                </div>
                <div class="text-right">
                    <span class="text-red-brand font-bold flex items-center justify-end gap-1 bg-red-50 px-2 py-1 rounded-full mb-1">
                        <i data-lucide="scale" class="w-3 h-3"></i> M√°x: 60g
                    </span>
                    <p class="font-black text-lg text-black">Total: $9.000*</p>
                </div>
            </div>

            <!-- Bot√≥n Acci√≥n -->
            <button onclick="sendOrder()" class="btn-order w-full py-3.5 rounded-xl font-black text-xl flex items-center justify-center gap-3 transform transition-transform uppercase tracking-wider">
                <span>PEDIR AHORA</span>
                <i data-lucide="send" class="w-5 h-5"></i>
            </button>
            <p class="text-[9px] text-center text-gray-400 mt-2">*Tarifa base. Adicionales se cobran en el chat.</p>
        </div>
    </footer>

    <script>
        // SALADOS
        const ingredientsSal = [
            { id: 'carne', name: 'Carne', desc: 'Desmechada / Molida' },
            { id: 'pollo', name: 'Pollo', desc: 'Desmechado' },
            { id: 'chorizo', name: 'Chorizo', desc: 'Santandereano' },
            { id: 'queso_sal', name: 'Queso Salado', desc: 'Coste√±o / Doble Crema' },
            { id: 'maiz', name: 'Ma√≠z', desc: 'Tiernito' },
            { id: 'arroz', name: 'Arroz', desc: 'Blanco suelto' },
            { id: 'papa', name: 'Papa', desc: 'Picada / Fosforito' },
            { id: 'huevo', name: 'Huevo', desc: 'Cocido picado' }
        ];

        // DULCES
        const ingredientsDulce = [
            { id: 'alpina', name: 'Arequipe Alpina', desc: 'El original' },
            { id: 'jumbo', name: 'Choco Jumbo', desc: '1 Chocolatina Personal (17g)' }, /* ACTUALIZADO */
            { id: 'nutella', name: 'Nutella', desc: 'Crema de avellanas' },
            { id: 'queso_dul', name: 'Queso Doble Crema', desc: 'Para fundir' },
            { id: 'almendras', name: 'Almendras', desc: 'Laminadas' },
            { id: 'mani', name: 'Man√≠', desc: 'Triturado' },
            { id: 'mora', name: 'Mermelada Mora', desc: 'Dulce de fruta' },
            { id: 'pina', name: 'Mermelada Pi√±a', desc: 'Calada' },
            { id: 'maracuya', name: 'Mermelada Maracuy√°', desc: '√Åcida y dulce' }
        ];

        // SALSAS
        const salsas = [
            { id: 'aji', name: 'Aj√≠ Casero' },
            { id: 'lecherita', name: 'Lecherita' },
            { id: 'tartara', name: 'Salsa T√°rtara' },
            { id: 'pina_salsa', name: 'Salsa de Pi√±a' }
        ];

        let selectedItems = [];
        let selectedSalsas = [];

        function renderList(items, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card-ingredient p-4 rounded-xl cursor-pointer group flex flex-col justify-between h-24';
                card.onclick = () => toggleItem(item.name, card);
                
                card.innerHTML = `
                    <div class="flex justify-between items-start">
                        <h4 class="font-black text-black text-lg leading-none group-hover:text-red-700 transition-colors">${item.name}</h4>
                        <div class="check-indicator w-6 h-6 rounded-full flex items-center justify-center border transition-all">
                            <i data-lucide="check" class="w-4 h-4 font-bold"></i>
                        </div>
                    </div>
                    <p class="text-[11px] text-gray-500 font-bold uppercase tracking-wide mt-auto">${item.desc}</p>
                `;
                container.appendChild(card);
            });
        }

        function renderSalsas() {
            const container = document.getElementById('salsasContainer');
            container.innerHTML = '';
            
            salsas.forEach(salsa => {
                const btn = document.createElement('div');
                btn.className = 'btn-salsa p-3 rounded-lg border-2 border-gray-100 bg-white text-gray-400 text-sm font-bold text-center cursor-pointer hover:border-red-400 transition-colors select-none';
                btn.innerText = salsa.name;
                
                btn.onclick = function() {
                    if (selectedSalsas.includes(salsa.name)) {
                        selectedSalsas = selectedSalsas.filter(s => s !== salsa.name);
                        this.classList.remove('selected');
                        this.classList.add('bg-white', 'text-gray-400', 'border-gray-100');
                    } else {
                        selectedSalsas.push(salsa.name);
                        this.classList.remove('bg-white', 'text-gray-400', 'border-gray-100');
                        this.classList.add('selected');
                    }
                };
                container.appendChild(btn);
            });
        }

        function toggleItem(name, element) {
            if (selectedItems.includes(name)) {
                selectedItems = selectedItems.filter(i => i !== name);
                element.classList.remove('selected');
            } else {
                selectedItems.push(name);
                element.classList.add('selected');
            }
        }

        function sendOrder() {
            const name = document.getElementById('clientName').value.trim();
            const address = document.getElementById('clientAddress').value.trim();
            const notes = document.getElementById('notes').value.trim();

            if (!name || !address) {
                alert("‚ö†Ô∏è ¬°Falta tu direcci√≥n para el domicilio!");
                document.getElementById('clientAddress').focus();
                return;
            }

            if (selectedItems.length === 0) {
                if(!confirm("¬øEmpanada de SOLO MASA (Vac√≠a)?")) return;
            }

            // CONFIRMACI√ìN DE REGLAS ANTES DE IR A WHATSAPP
            const confirmMsg = "IMPORTANTE:\n\n1. La empanada tiene un l√≠mite de 60g (a m√°s ingredientes, menos cantidad de cada uno).\n2. Si pediste algo adicional en las notas, el precio cambiar√° y te lo diremos por WhatsApp.\n\n¬øEst√°s de acuerdo?";
            
            if(!confirm(confirmMsg)) return;

            let msg = `üî• *NUEVO PEDIDO BARICHARA ($9.000)* üî•\n\n`;
            msg += `üë§ *Cliente:* ${name}\n`;
            msg += `üìç *Ubicaci√≥n:* ${address}\n\n`;
            
            msg += `ü•ü *LA MEZCLA (M√°x 60g):*\n`;
            if (selectedItems.length === 0) {
                msg += `‚õî SOLO MASA (Sin relleno)\n`;
            } else {
                selectedItems.forEach(item => msg += `‚úÖ ${item}\n`);
            }
            
            if (selectedSalsas.length > 0) {
                msg += `\nüç∂ *Salsas:* ${selectedSalsas.join(', ')}\n`;
            }
            
            if (notes) {
                msg += `\nüìù *NOTA ESPECIAL / ADICIONALES:* \n_${notes}_\n`;
                msg += `‚ö† *OJO:* El cliente solicita adicionales. Verificar precio en chat.\n`;
            }
            
            msg += `\n--------------------------------\n`;
            msg += `ü•ü Empanada Base: $5.000\n`;
            msg += `üõµ Domicilio: $4.000 (Base Urbana)\n`;
            msg += `üí∞ *TOTAL INICIAL: $9.000*\n`;
            msg += `_(Sujeto a cambios por adicionales o vereda)_\n`;
            msg += `\n‚öñ _Cliente acept√≥ pol√≠tica de 60g y ajuste de precio._`;

            const phone = "573003688109";
            window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        renderList(ingredientsSal, 'content-sal');
        renderList(ingredientsDulce, 'content-dulce');
        renderSalsas();
        lucide.createIcons();
    </script>
</body>
</html>
